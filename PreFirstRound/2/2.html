<div
  style="height: 100%; overflow: auto;"
  id="standard_task_description"
  class="protected"
  tabindex="0"
>
  <div
    class="task-description__TaskContentWrapper-sc-380ibo-1 fDHMwF task-description-content"
  >
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <div id="brinza-task-description">
      <p>
        A network consisting of N cities and N−1 roads connecting them is given.
        Cities are labeled with distinct integers within the range [0..N−1].
      </p>
      <p>
        Roads connect cities in such a way that each pair of distinct cities is
        connected either by a direct road or along a path consisting of direct
        roads. There is exactly one way to reach any city from any other city.
        In other words, cities and direct roads form a <i>tree</i>.
      </p>
      <p>
        For example, consider the following network consisting of ten cities and
        nine roads:
      </p>
      <p>
        <img
          class="inline-description-image"
          src="https://codility-frontend-prod.s3.amazonaws.com/media/task_static/longest_even_path/static/images/auto/ee12c73840c7d3a7a5772849752bba87.png"
          alt=""
        />
      </p>
      <p>
        Jack lives in city number 0. He wants to plan a trip and visit as many
        cities as possible. Nonetheless, he does not want to visit any city more
        than once and he can only move along direct roads. The trip may finish
        in any city.
      </p>
      <p>
        There is one issue. Each city labeled with an odd number (1, 3, 5, ...)
        requires a special ticket in order to visit it. The tickets are already
        sold out, but luckily Jack has already bought one such ticket, so he can
        visit at most one odd-numbered city.
      </p>
      <p>
        Jack wonders how many cities (including the starting one) he can visit.
      </p>
      <p>Write a function:</p>
      <blockquote>
        <p
          style="font-family: monospace; font-size: 9pt; display: block; white-space: pre-wrap"
        >
          <tt>def solution(T)</tt>
        </p>
      </blockquote>
      <p>
        that, given a non-empty array T consisting of N integers describing a
        network of N cities and N−1 roads, returns the maximum number of cities
        that Jack can visit.
      </p>
      <p>Array T describes a network of cities as follows:</p>
      <blockquote>
        <ul style="margin: 10px;padding: 0px;">
          <li>T[0] = 0;</li>
          <li>
            if T[P] = Q and P ≠ 0, then there is a direct road between cities P
            and Q.
          </li>
        </ul>
      </blockquote>
      <p><b>Examples:</b></p>
      <p>1. Given T = [0, 9, 0, 2, 6, 8, 0, 8, 3, 0],</p>
      <p>
        <img
          class="inline-description-image"
          src="https://codility-frontend-prod.s3.amazonaws.com/media/task_static/longest_even_path/static/images/auto/c1c51bd6dcdfcbad5a4b4ca77d5503a8.png"
          alt="Graph describes the first example test."
        />
      </p>
      <p>
        the function should return 4, as there is a path 0 → 2 → 3 → 8. City
        number 3 is the only city which requires a ticket.
      </p>
      <p>2. Given T = [0, 0, 0, 1, 6, 1, 0, 0],</p>
      <p>
        <img
          class="inline-description-image"
          src="https://codility-frontend-prod.s3.amazonaws.com/media/task_static/longest_even_path/static/images/auto/ef5c7a1526b32f90bead4fd2952703c5.png"
          alt="Graph describes the second example test."
        />
      </p>
      <p>
        the function should return 3, as there is a path 0 → 6 → 4. There are no
        cities that require a ticket on the path.
      </p>
      <p>
        Write an <b><b>efficient</b></b> algorithm for the following
        assumptions:
      </p>
      <blockquote>
        <ul style="margin: 10px;padding: 0px;">
          <li>
            N is an integer within the range [<span class="number">1</span
            >..<span class="number">100,000</span>];
          </li>
          <li>
            each element of array T is an integer within the range [<span
              class="number"
              >0</span
            >..<span class="number">N−1</span>];
          </li>
          <li>
            there is exactly one (possibly indirect) connection between any two
            distinct cities.
          </li>
        </ul>
      </blockquote>
    </div>
    <div style="margin-top:5px">
      <small
        >Copyright 2009–2019 by Codility Limited. All Rights Reserved.
        Unauthorized copying, publication or disclosure prohibited.</small
      >
    </div>
  </div>
</div>
